@page "/index"
@page "/"
@inject HttpClient Http

<PageTitle>TMDB - Movies</PageTitle>
<Carosel/>
@* <HeroImage/> *@
<MoviesList Movie="movies" />
<MudSpacer/>
<MudPagination  Variant="Variant.Outlined"  Count="10" />


@code {
    private List<Movie> movies = new List<Movie>();
    protected override async Task OnInitializedAsync()
    {
        TMDbClient client = new TMDbClient("0bc767296e945f7da4297394b9b7fd92");
        var response = await client.GetMoviePopularListAsync(null, 2, null, default);

        foreach (var item in response.Results)
        {
            movies.Add(new Movie
            {
                Title = item.Title,
                PosterPath = item.PosterPath
            });
        }

        //PosterPath = "https://www.themoviedb.org/t/p/w220_and_h330_face/neMZH82Stu91d3iqvLdNQfqPPyl.jpg"

    }
}
